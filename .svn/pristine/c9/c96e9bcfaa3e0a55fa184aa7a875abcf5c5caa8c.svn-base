<%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE" />
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
<meta name="format-detection" content="telephone=no" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<title>기안</title>
<link rel="stylesheet" href="<c:url value='../../resources/skin/css/popup.css' />" />
<script type="text/javascript" src="<c:url value='../../resources/skin/js/jquery-1.11.0.min.js' />"></script>
<script>
doAction = function(key, type) {
	
	/* var bizxml = "<BODY xmlns=\"http://bpm.oracle.co.kr/demo/MasterTypes\">\n";
	bizxml += "<DATA>\n";
	bizxml += "<"+prefix+":"+root+" xmlns:"+prefix+"=\""+ns+"\">\n";
	
	$("fieldset").each(function() {
		var result = "";
		if($(this).attr('type') == 'single') {
			bizxml += "<"+prefix+":"+$(this).attr('name')+">\n";
	
			$(this).find(':input').each(function(index) {
				if($(this).attr('id') != undefined) {
					bizxml += "<"+prefix+":"+$(this).attr('id')+">"+$(this).val()+"</"+prefix+":"+$(this).attr('id')+">\n";
				}
			});
			
			bizxml += "</"+prefix+":"+$(this).attr('name')+">\n";
		}	
		
	})
	bizxml += "</"+prefix+":"+root+">\n";
	bizxml +="</DATA>\n";
	bizxml += "</BODY>";
	$("#body_xml").val(bizxml); */
	
	if(confirm("처리 하시겠습니까?")) {
		$("#outcome").val(key);
		document.f_taskdetail.submit();
	} else return;
}
</script>
</head>
<body>
<div>
	<form name="invoke" action='<spring:url value='/soa/composite/invoke' />' method="post">
	
		<table class="board_reservation_month">
			<tbody>
				<tr>
					<th>결제순서</th>
					<td><input type="text" id="expenseNumber" name="expenseNumber" value=""/></td>
				</tr>
				<tr>
					<th>방식</th>
					<td>
						<select name="paymentType">
							<option value="corporation">순차</option>
							<option value="individual">병렬</option>
						</select>
					</td>
				</tr>
				<tr>
					<th>규칙</th>
					<td>
						<input type="radio" name="expenseType" value="차량유지비" checked>차량유지비
						<input type="radio" name="expenseType" value="접대비">접대비
						<input type="radio" name="expenseType" value="복리후생비">복리후생비
						<input type="radio" name="expenseType" value="출장비">출장비
					</td>
				</tr>
				<tr>
					<th>44</th>
					<td><input type="text" id="dueDate" name="dueDate" value=""/></td>
				</tr>
				<tr>
					<th>55</th>
					<td><input type="text" id="amount" name="amount" value=""/></td>
				</tr>
				
			</tbody>
		</table>
		<br>
		
		
	</form>
</div>

<form class="form-horizontal" name="f_taskdetail" method="post" action="<spring:url value="/bpm/workflow/doAction" />">
	<input type="hidden" id="outcome" name="outcome" value="">
	<input type="hidden" id="tasknumber" name="tasknumber" value="${requestScope.task.number}">
	<input type="hidden" id="redirecturi" name="redirecturi" value="<spring:url value="/" />">
	<textarea id="body_xml" name="body_xml" style="display:none"></textarea>
	
	<div class="modal-footer" align="right">
		<c:choose>
			<c:when test="${fn:length(requestScope.task.customActions) > 0}">
			<c:forEach var="action" items="${requestScope.task.customActions}" varStatus="ts">
			<button type="button" class="btn btn-primary" onClick="doAction('${action.key}', 2)">${action.value}</button>
			</c:forEach>
			</c:when>
		</c:choose>
			<a href="#" class="btn" data-dismiss="modal">닫기</a>
	</div>
</form>

<br><br>
${requestScope.task.id}<br>
${requestScope.task.title}<br>
${requestScope.task.priority}<br>
${requestScope.task.systemActions}<br>
${requestScope.task.customActions}<br>
${requestScope.task.xpalyload}<br>
${requestScope.task.instanceId}<br>
${requestScope.task.dateAttribute1}<br>
${requestScope.task.dateAttribute1.systemMessageAttributes}<br>
${requestScope.task.dateAttribute1.systemMessageAttributes.dateAttribute1}<br>
</body>
</html>